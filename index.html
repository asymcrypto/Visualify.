<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ViralizeLab • 3D Follower Snapshot</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #3a86ff;
            --secondary: #8338ec;
            --accent: #ff006e;
            --dark: #0f172a;
            --darker: #0a0f1c;
            --light: #f8fafc;
            --gray: #64748b;
            --success: #10b981;
            --card-bg: rgba(30, 41, 59, 0.6);
            --glass: rgba(255, 255, 255, 0.05);
            --radius: 16px;
            --shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5);
            --twitter: #1da1f2;
            --instagram: #e1306c;
            --tiktok: #000000;
            --youtube: #ff0000;
            --linkedin: #0077b5;
            --twitch: #9146ff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 22px;
            color: white;
        }

        .logo-text h1 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .logo-text p {
            color: var(--gray);
            font-size: 14px;
        }

        .badge {
            background: rgba(59, 130, 246, 0.2);
            color: var(--primary);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .main-content {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 30px;
        }

        .panel {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .panel-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .panel-title i {
            color: var(--primary);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 14px;
            color: var(--light);
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 16px;
            border-radius: 10px;
            background: rgba(15, 23, 42, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 15px;
            transition: all 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        .color-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .color-input {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .color-input input {
            flex: 1;
            height: 45px;
            padding: 5px;
        }

        .color-preview {
            width: 30px;
            height: 30px;
            border-radius: 6px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .image-upload {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .thumb {
            width: 70px;
            height: 70px;
            border-radius: 12px;
            background: rgba(15, 23, 42, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border: 2px dashed rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s;
        }

        .thumb:hover {
            border-color: var(--primary);
        }

        .thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .upload-text {
            flex: 1;
        }

        .upload-text p {
            font-size: 14px;
            color: var(--gray);
            margin-top: 5px;
        }

        .templates {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .template {
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
        }

        .template.active {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
        }

        .template-preview {
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .template-name {
            padding: 10px;
            text-align: center;
            background: rgba(15, 23, 42, 0.8);
            font-size: 13px;
            font-weight: 600;
        }

        .btn {
            padding: 14px 20px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: #2563eb;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover {
            background: #0da271;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 25px;
        }

        .preview-container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .canvas-wrapper {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(15, 23, 42, 0.3);
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .canvas-wrapper::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
            z-index: -1;
        }

        canvas {
            max-width: 100%;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s;
        }

        .preview-actions {
            display: flex;
            gap: 12px;
        }

        .preview-actions .btn {
            flex: 1;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .feature {
            background: var(--card-bg);
            padding: 20px;
            border-radius: var(--radius);
            text-align: center;
            transition: transform 0.3s;
        }

        .feature:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            width: 50px;
            height: 50px;
            background: rgba(59, 130, 246, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            color: var(--primary);
            font-size: 20px;
        }

        .feature h3 {
            font-size: 16px;
            margin-bottom: 8px;
        }

        .feature p {
            font-size: 14px;
            color: var(--gray);
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            color: var(--gray);
            font-size: 14px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .watermark-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
        }

        .toggle {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.2);
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .platform-logo {
            width: 24px;
            height: 24px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }

        .twitter-logo { background: var(--twitter); }
        .instagram-logo { background: var(--instagram); }
        .tiktok-logo { background: var(--tiktok); }
        .youtube-logo { background: var(--youtube); }
        .linkedin-logo { background: var(--linkedin); }
        .twitch-logo { background: var(--twitch); }

        .platform-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .platform-option {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 12px;
            border-radius: 10px;
            background: rgba(15, 23, 42, 0.7);
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .platform-option.active {
            border-color: var(--primary);
            background: rgba(59, 130, 246, 0.1);
        }

        .platform-option i {
            font-size: 20px;
        }

        .platform-option span {
            font-size: 12px;
            font-weight: 600;
        }

        /* 3D Effects */
        .card-3d {
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .card-3d:hover {
            transform: rotateY(5deg) rotateX(5deg);
        }

        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .glow {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
        }

        .particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); }
            25% { transform: translateY(-20px) translateX(10px); }
            50% { transform: translateY(-40px) translateX(-10px); }
            75% { transform: translateY(-20px) translateX(-5px); }
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .quality-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .quality-option {
            padding: 10px;
            border-radius: 8px;
            background: rgba(15, 23, 42, 0.7);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .quality-option.active {
            border-color: var(--primary);
            background: rgba(59, 130, 246, 0.1);
        }

        @media (max-width: 1100px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .features {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .features {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }
            
            .color-inputs {
                grid-template-columns: 1fr;
            }
            
            .platform-selector {
                flex-wrap: wrap;
            }
            
            .quality-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">VL</div>
                <div class="logo-text">
                    <h1 class="gradient-text">ViralizeLab 3D Snapshot</h1>
                    <p>Create stunning 3D follower milestone images in seconds</p>
                </div>
            </div>
            <div class="badge floating">5 3D Styles • HD Export</div>
        </header>

        <div class="main-content">
            <div class="panel card-3d">
                <h2 class="panel-title">
                    <i class="fas fa-sliders-h"></i> Customize Your 3D Snapshot
                </h2>
                
                <div class="form-group">
                    <label>Platform</label>
                    <div class="platform-selector">
                        <div class="platform-option active" data-platform="twitter">
                            <i class="fab fa-twitter twitter-logo"></i>
                            <span>Twitter</span>
                        </div>
                        <div class="platform-option" data-platform="instagram">
                            <i class="fab fa-instagram instagram-logo"></i>
                            <span>Instagram</span>
                        </div>
                        <div class="platform-option" data-platform="tiktok">
                            <i class="fab fa-tiktok tiktok-logo"></i>
                            <span>TikTok</span>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" placeholder="@yourusername" value="@ViralizeLab">
                </div>
                
                <div class="form-group">
                    <label for="followerCount">Follower Count</label>
                    <input type="text" id="followerCount" placeholder="100000" value="12500">
                </div>
                
                <div class="form-group">
                    <label for="milestoneText">Milestone Text</label>
                    <input type="text" id="milestoneText" placeholder="Celebrating 10K followers!" value="Thank you for 12.5K followers!">
                </div>
                
                <div class="form-group">
                    <label for="template">3D Card Style</label>
                    <div class="templates">
                        <div class="template active" data-template="holographic">
                            <div class="template-preview" style="background:linear-gradient(135deg, #3a86ff, #8338ec, #ff006e)">Holographic</div>
                            <div class="template-name">Holographic</div>
                        </div>
                        <div class="template" data-template="glass">
                            <div class="template-preview" style="background:linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1))">Glass</div>
                            <div class="template-name">Glass</div>
                        </div>
                        <div class="template" data-template="neon">
                            <div class="template-preview" style="background:linear-gradient(135deg, #ff006e, #8338ec)">Neon</div>
                            <div class="template-name">Neon</div>
                        </div>
                        <div class="template" data-template="cyber">
                            <div class="template-preview" style="background:linear-gradient(135deg, #00ff88, #00ccff)">Cyber</div>
                            <div class="template-name">Cyber</div>
                        </div>
                        <div class="template" data-template="gradient">
                            <div class="template-preview" style="background:linear-gradient(135deg, #ff6b6b, #4ecdc4)">Gradient</div>
                            <div class="template-name">Gradient</div>
                        </div>
                        <div class="template" data-template="metallic">
                            <div class="template-preview" style="background:linear-gradient(135deg, #b9b9b9, #5a5a5a)">Metallic</div>
                            <div class="template-name">Metallic</div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>3D Effects</label>
                    <div class="color-inputs">
                        <div class="color-input">
                            <div class="color-preview" id="primaryColorPreview" style="background:#3a86ff"></div>
                            <input type="color" id="primaryColor" value="#3a86ff">
                        </div>
                        <div class="color-input">
                            <div class="color-preview" id="secondaryColorPreview" style="background:#8338ec"></div>
                            <input type="color" id="secondaryColor" value="#8338ec">
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Profile Image</label>
                    <div class="image-upload">
                        <div class="thumb" id="profileThumb">
                            <span>+</span>
                        </div>
                        <div class="upload-text">
                            <input type="file" id="profileImage" accept="image/*" style="display: none;">
                            <div>Upload Profile Picture</div>
                            <p>Square image recommended</p>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>3D Depth Intensity</label>
                    <input type="range" id="depthIntensity" min="0" max="100" value="50">
                </div>

                <div class="form-group">
                    <label>Export Quality</label>
                    <div class="quality-options">
                        <div class="quality-option active" data-quality="hd">HD (2x)</div>
                        <div class="quality-option" data-quality="uhd">UHD (4x)</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="canvasSize">Canvas Size</label>
                    <select id="canvasSize">
                        <option value="1200x630">Twitter Post (1200×630)</option>
                        <option value="1080x1080">Instagram Square (1080×1080)</option>
                        <option value="1080x1350">Instagram Portrait (1080×1350)</option>
                        <option value="1080x1920">Story/Reel (1080×1920)</option>
                    </select>
                </div>
                
                <div class="watermark-toggle">
                    <label class="toggle">
                        <input type="checkbox" id="watermarkToggle" checked>
                        <span class="slider"></span>
                    </label>
                    <span>Include ViralizeLab & Founder Credits</span>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" id="generateBtn">
                        <i class="fas fa-sync-alt"></i> Generate 3D Preview
                    </button>
                    <button class="btn btn-secondary" id="resetBtn">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
            </div>
            
            <div class="panel preview-container">
                <h2 class="panel-title">
                    <i class="fas fa-eye"></i> 3D Preview
                </h2>
                
                <div class="canvas-wrapper">
                    <canvas id="snapshotCanvas" width="1200" height="630"></canvas>
                </div>
                
                <div class="preview-actions">
                    <button class="btn btn-success" id="downloadBtn">
                        <i class="fas fa-download"></i> Download HD PNG
                    </button>
                    <button class="btn btn-secondary" id="shareBtn">
                        <i class="fas fa-share-alt"></i> Copy Share Text
                    </button>
                </div>
            </div>
        </div>
        
        <div class="features">
            <div class="feature card-3d">
                <div class="feature-icon"><i class="fas fa-cube"></i></div>
                <h3>6 3D Card Styles</h3>
                <p>Holographic, glass, neon, cyber, gradient & metallic</p>
            </div>
            <div class="feature card-3d">
                <div class="feature-icon"><i class="fas fa-palette"></i></div>
                <h3>Dynamic Colors</h3>
                <p>Real-time color customization with 3D effects</p>
            </div>
            <div class="feature card-3d">
                <div class="feature-icon"><i class="fas fa-expand"></i></div>
                <h3>HD & UHD Export</h3>
                <p>High-quality 2x and 4x resolution exports</p>
            </div>
            <div class="feature card-3d">
                <div class="feature-icon"><i class="fas fa-heart"></i></div>
                <h3>Support Growth</h3>
                <p>Follow @ViralizeLab & @Asym_Alwali</p>
            </div>
        </div>
        
        <footer>
            <p>Made with ❤️ by <strong>ViralizeLab</strong> • Follow <strong>@Asym_Alwali</strong> for updates • 6 3D Styles • HD Export</p>
        </footer>
    </div>

    <script>
        // DOM Elements
        const canvas = document.getElementById('snapshotCanvas');
        const ctx = canvas.getContext('2d');
        const generateBtn = document.getElementById('generateBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const resetBtn = document.getElementById('resetBtn');
        const shareBtn = document.getElementById('shareBtn');
        const platformOptions = document.querySelectorAll('.platform-option');
        const usernameInput = document.getElementById('username');
        const followerCountInput = document.getElementById('followerCount');
        const milestoneTextInput = document.getElementById('milestoneText');
        const templateElements = document.querySelectorAll('.template');
        const primaryColorInput = document.getElementById('primaryColor');
        const secondaryColorInput = document.getElementById('secondaryColor');
        const primaryColorPreview = document.getElementById('primaryColorPreview');
        const secondaryColorPreview = document.getElementById('secondaryColorPreview');
        const profileImageInput = document.getElementById('profileImage');
        const profileThumb = document.getElementById('profileThumb');
        const canvasSizeSelect = document.getElementById('canvasSize');
        const watermarkToggle = document.getElementById('watermarkToggle');
        const depthIntensity = document.getElementById('depthIntensity');
        const qualityOptions = document.querySelectorAll('.quality-option');

        // State
        let currentTemplate = 'holographic';
        let currentPlatform = 'twitter';
        let profileImage = null;
        let exportQuality = 'hd';

        // Platform colors and icons
        const platformData = {
            twitter: { color: '#1da1f2', icon: 'fab fa-twitter', name: 'Twitter' },
            instagram: { color: '#e1306c', icon: 'fab fa-instagram', name: 'Instagram' },
            tiktok: { color: '#000000', icon: 'fab fa-tiktok', name: 'TikTok' }
        };

        // Create floating particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                particle.style.width = `${Math.random() * 10 + 5}px`;
                particle.style.height = particle.style.width;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.animationDelay = `${Math.random() * 5}s`;
                particle.style.background = `rgba(${Math.random() * 100 + 155}, ${Math.random() * 100 + 155}, 255, ${Math.random() * 0.3 + 0.1})`;
                particlesContainer.appendChild(particle);
            }
        }

        // Initialize
        function init() {
            createParticles();
            
            // Set up event listeners
            generateBtn.addEventListener('click', generateSnapshot);
            downloadBtn.addEventListener('click', downloadSnapshot);
            resetBtn.addEventListener('click', resetForm);
            shareBtn.addEventListener('click', copyShareText);
            
            templateElements.forEach(template => {
                template.addEventListener('click', () => {
                    templateElements.forEach(t => t.classList.remove('active'));
                    template.classList.add('active');
                    currentTemplate = template.dataset.template;
                    generateSnapshot();
                });
            });
            
            platformOptions.forEach(option => {
                option.addEventListener('click', () => {
                    platformOptions.forEach(o => o.classList.remove('active'));
                    option.classList.add('active');
                    currentPlatform = option.dataset.platform;
                    generateSnapshot();
                });
            });
            
            qualityOptions.forEach(option => {
                option.addEventListener('click', () => {
                    qualityOptions.forEach(o => o.classList.remove('active'));
                    option.classList.add('active');
                    exportQuality = option.dataset.quality;
                    downloadBtn.innerHTML = `<i class="fas fa-download"></i> Download ${exportQuality.toUpperCase()} PNG`;
                });
            });
            
            primaryColorInput.addEventListener('input', updateColorPreviews);
            secondaryColorInput.addEventListener('input', updateColorPreviews);
            
            profileThumb.addEventListener('click', () => profileImageInput.click());
            
            profileImageInput.addEventListener('change', handleImageUpload);
            
            canvasSizeSelect.addEventListener('change', updateCanvasSize);
            
            depthIntensity.addEventListener('input', generateSnapshot);
            
            // Generate initial preview
            generateSnapshot();
        }

        // Update color previews
        function updateColorPreviews() {
            primaryColorPreview.style.backgroundColor = primaryColorInput.value;
            secondaryColorPreview.style.backgroundColor = secondaryColorInput.value;
            generateSnapshot();
        }

        // Handle image upload
        function handleImageUpload(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(event) {
                const img = new Image();
                img.onload = function() {
                    profileImage = img;
                    profileThumb.innerHTML = '';
                    profileThumb.appendChild(createThumbnail(img));
                    generateSnapshot();
                };
                img.src = event.target.result;
            };
            reader.readAsDataURL(file);
        }

        // Create thumbnail for image preview
        function createThumbnail(img) {
            const canvas = document.createElement('canvas');
            canvas.width = 70;
            canvas.height = 70;
            const ctx = canvas.getContext('2d');
            
            // Draw image centered and cropped to square
            const size = Math.min(img.width, img.height);
            const sx = (img.width - size) / 2;
            const sy = (img.height - size) / 2;
            
            ctx.drawImage(img, sx, sy, size, size, 0, 0, 70, 70);
            
            return canvas;
        }

        // Update canvas size
        function updateCanvasSize() {
            const size = canvasSizeSelect.value.split('x');
            canvas.width = parseInt(size[0]);
            canvas.height = parseInt(size[1]);
            generateSnapshot();
        }

        // Generate the snapshot
        function generateSnapshot() {
            const width = canvas.width;
            const height = canvas.height;
            
            // Clear canvas
            ctx.clearRect(0, 0, width, height);
            
            // Draw 3D background based on template
            draw3DBackground(width, height);
            
            // Draw 3D content
            draw3DContent(width, height);
            
            // Add watermark if enabled
            if (watermarkToggle.checked) {
                drawWatermark(width, height);
            }
        }

        // Draw 3D background based on selected template
        function draw3DBackground(width, height) {
            const primaryColor = primaryColorInput.value;
            const secondaryColor = secondaryColorInput.value;
            const depth = depthIntensity.value / 100;
            
            switch(currentTemplate) {
                case 'holographic':
                    // Holographic effect with multiple gradients
                    const holographicGradient1 = ctx.createLinearGradient(0, 0, width, height);
                    holographicGradient1.addColorStop(0, primaryColor);
                    holographicGradient1.addColorStop(0.5, secondaryColor);
                    holographicGradient1.addColorStop(1, '#ff006e');
                    
                    const holographicGradient2 = ctx.createRadialGradient(
                        width/2, height/2, 0,
                        width/2, height/2, Math.max(width, height)/2
                    );
                    holographicGradient2.addColorStop(0, 'rgba(255,255,255,0.1)');
                    holographicGradient2.addColorStop(1, 'rgba(0,0,0,0.3)');
                    
                    ctx.fillStyle = holographicGradient1;
                    ctx.fillRect(0, 0, width, height);
                    
                    ctx.fillStyle = holographicGradient2;
                    ctx.fillRect(0, 0, width, height);
                    break;
                    
                case 'glass':
                    // Glass morphism effect
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
                    ctx.fillRect(0, 0, width, height);
                    
                    // Add blur effect
                    ctx.filter = 'blur(10px)';
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.05)';
                    ctx.fillRect(20, 20, width-40, height-40);
                    ctx.filter = 'none';
                    
                    // Add glass highlights
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.2)';
                    ctx.fillRect(0, 0, width, 2);
                    ctx.fillRect(0, 0, 2, height);
                    break;
                    
                case 'neon':
                    // Neon glow effect
                    ctx.fillStyle = '#0a0a0a';
                    ctx.fillRect(0, 0, width, height);
                    
                    const neonGradient = ctx.createLinearGradient(0, 0, width, height);
                    neonGradient.addColorStop(0, primaryColor);
                    neonGradient.addColorStop(1, secondaryColor);
                    
                    // Neon glow
                    ctx.shadowColor = primaryColor;
                    ctx.shadowBlur = 50 * depth;
                    ctx.fillStyle = neonGradient;
                    ctx.fillRect(0, 0, width, height);
                    ctx.shadowBlur = 0;
                    break;
                    
                case 'cyber':
                    // Cyberpunk effect
                    ctx.fillStyle = '#000011';
                    ctx.fillRect(0, 0, width, height);
                    
                    // Grid lines
                    ctx.strokeStyle = 'rgba(0, 255, 255, 0.3)';
                    ctx.lineWidth = 1;
                    for (let i = 0; i < width; i += 40) {
                        ctx.beginPath();
                        ctx.moveTo(i, 0);
                        ctx.lineTo(i, height);
                        ctx.stroke();
                    }
                    for (let i = 0; i < height; i += 40) {
                        ctx.beginPath();
                        ctx.moveTo(0, i);
                        ctx.lineTo(width, i);
                        ctx.stroke();
                    }
                    
                    // Cyber gradient overlay
                    const cyberGradient = ctx.createLinearGradient(0, 0, width, height);
                    cyberGradient.addColorStop(0, 'rgba(0, 255, 255, 0.3)');
                    cyberGradient.addColorStop(1, 'rgba(255, 0, 255, 0.3)');
                    ctx.fillStyle = cyberGradient;
                    ctx.fillRect(0, 0, width, height);
                    break;
                    
                case 'gradient':
                    // Smooth gradient background
                    const gradient = ctx.createLinearGradient(0, 0, width, height);
                    gradient.addColorStop(0, primaryColor);
                    gradient.addColorStop(0.5, secondaryColor);
                    gradient.addColorStop(1, '#ff6b6b');
                    
                    ctx.fillStyle = gradient;
                    ctx.fillRect(0, 0, width, height);
                    
                    // Add subtle noise
                    ctx.fillStyle = 'rgba(255,255,255,0.03)';
                    for (let i = 0; i < 100; i++) {
                        ctx.fillRect(
                            Math.random() * width,
                            Math.random() * height,
                            2, 2
                        );
                    }
                    break;
                    
                case 'metallic':
                    // Metallic chrome effect
                    const metallicGradient = ctx.createLinearGradient(0, 0, width, height);
                    metallicGradient.addColorStop(0, '#e0e0e0');
                    metallicGradient.addColorStop(0.2, '#ffffff');
                    metallicGradient.addColorStop(0.5, '#a0a0a0');
                    metallicGradient.addColorStop(0.8, '#707070');
                    metallicGradient.addColorStop(1, '#404040');
                    
                    ctx.fillStyle = metallicGradient;
                    ctx.fillRect(0, 0, width, height);
                    
                    // Add metallic shine
                    ctx.fillStyle = 'rgba(255,255,255,0.3)';
                    ctx.fillRect(0, 0, width, height/4);
                    break;
            }
        }

        // Draw 3D content
        function draw3DContent(width, height) {
            const primaryColor = primaryColorInput.value;
            const platformColor = platformData[currentPlatform].color;
            const username = usernameInput.value || '@username';
            const followerCount = followerCountInput.value || '0';
            const milestoneText = milestoneTextInput.value || 'Milestone achieved!';
            const platformName = platformData[currentPlatform].name;
            const depth = depthIntensity.value / 100;
            
            // Calculate positions
            const centerX = width / 2;
            const centerY = height / 2;
            
            // Draw 3D card based on template
            draw3DCard(width, height, depth);
            
            // Draw profile image or placeholder with 3D effect
            const profileSize = Math.min(width, height) * 0.15;
            const profileX = centerX - profileSize / 2;
            const profileY = centerY - profileSize - 30;
            
            if (profileImage) {
                // Draw profile image as circle with 3D border
                ctx.save();
                ctx.beginPath();
                ctx.arc(centerX, profileY + profileSize/2, profileSize/2, 0, Math.PI * 2);
                ctx.closePath();
                ctx.clip();
                ctx.drawImage(
                    profileImage, 
                    profileX, 
                    profileY, 
                    profileSize, 
                    profileSize
                );
                ctx.restore();
                
                // Add 3D border to profile image
                ctx.beginPath();
                ctx.arc(centerX, profileY + profileSize/2, profileSize/2, 0, Math.PI * 2);
                ctx.strokeStyle = platformColor;
                ctx.lineWidth = 4;
                ctx.stroke();
                
                // Add shadow for 3D effect
                ctx.shadowColor = 'rgba(0,0,0,0.5)';
                ctx.shadowBlur = 20 * depth;
                ctx.shadowOffsetX = 10 * depth;
                ctx.shadowOffsetY = 10 * depth;
                ctx.stroke();
                ctx.shadowBlur = 0;
                ctx.shadowOffsetX = 0;
                ctx.shadowOffsetY = 0;
            }
            
            // Draw follower count with 3D text effect
            ctx.fillStyle = 'white';
            ctx.font = `bold ${Math.min(width, height) * 0.12}px Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            // Text shadow for 3D effect
            ctx.shadowColor = 'rgba(0,0,0,0.5)';
            ctx.shadowBlur = 10 * depth;
            ctx.shadowOffsetX = 5 * depth;
            ctx.shadowOffsetY = 5 * depth;
            ctx.fillText(followerCount, centerX, centerY + 20);
            ctx.shadowBlur = 0;
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 0;
            
            // Draw platform and username
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.font = `600 ${Math.min(width, height) * 0.035}px Arial`;
            ctx.fillText(`${platformName} • ${username}`, centerX, centerY + 90);
            
            // Draw milestone text
            ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
            ctx.font = `500 ${Math.min(width, height) * 0.04}px Arial`;
            ctx.fillText(milestoneText, centerX, centerY + 140);
        }

        // Draw 3D card based on template
        function draw3DCard(width, height, depth) {
            const cardWidth = width * 0.8;
            const cardHeight = height * 0.7;
            const cardX = (width - cardWidth) / 2;
            const cardY = (height - cardHeight) / 2;
            const borderRadius = 20;
            const shadowDepth = 20 * depth;
            
            // Card shadow
            ctx.shadowColor = 'rgba(0,0,0,0.5)';
            ctx.shadowBlur = 30 * depth;
            ctx.shadowOffsetX = shadowDepth;
            ctx.shadowOffsetY = shadowDepth;
            
            // Card background based on template
            let cardGradient;
            
            switch(currentTemplate) {
                case 'holographic':
                    cardGradient = ctx.createLinearGradient(cardX, cardY, cardX + cardWidth, cardY + cardHeight);
                    cardGradient.addColorStop(0, 'rgba(59, 130, 246, 0.3)');
                    cardGradient.addColorStop(0.5, 'rgba(139, 92, 246, 0.3)');
                    cardGradient.addColorStop(1, 'rgba(255, 0, 110, 0.3)');
                    break;
                case 'glass':
                    cardGradient = ctx.createLinearGradient(cardX, cardY, cardX + cardWidth, cardY + cardHeight);
                    cardGradient.addColorStop(0, 'rgba(255,255,255,0.15)');
                    cardGradient.addColorStop(1, 'rgba(255,255,255,0.05)');
                    break;
                case 'neon':
                    cardGradient = ctx.createLinearGradient(cardX, cardY, cardX + cardWidth, cardY + cardHeight);
                    cardGradient.addColorStop(0, 'rgba(255, 0, 110, 0.3)');
                    cardGradient.addColorStop(1, 'rgba(139, 92, 246, 0.3)');
                    break;
                case 'cyber':
                    cardGradient = ctx.createLinearGradient(cardX, cardY, cardX + cardWidth, cardY + cardHeight);
                    cardGradient.addColorStop(0, 'rgba(0, 255, 136, 0.2)');
                    cardGradient.addColorStop(1, 'rgba(0, 204, 255, 0.2)');
                    break;
                case 'gradient':
                    cardGradient = ctx.createLinearGradient(cardX, cardY, cardX + cardWidth, cardY + cardHeight);
                    cardGradient.addColorStop(0, 'rgba(255, 107, 107, 0.3)');
                    cardGradient.addColorStop(1, 'rgba(78, 205, 196, 0.3)');
                    break;
                case 'metallic':
                    cardGradient = ctx.createLinearGradient(cardX, cardY, cardX + cardWidth, cardY + cardHeight);
                    cardGradient.addColorStop(0, 'rgba(224, 224, 224, 0.3)');
                    cardGradient.addColorStop(0.5, 'rgba(160, 160, 160, 0.3)');
                    cardGradient.addColorStop(1, 'rgba(112, 112, 112, 0.3)');
                    break;
            }
            
            ctx.fillStyle = cardGradient;
            roundRect(ctx, cardX, cardY, cardWidth, cardHeight, borderRadius);
            ctx.fill();
            
            ctx.shadowBlur = 0;
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 0;
            
            // Card border based on template
            let borderColor;
            switch(currentTemplate) {
                case 'holographic':
                    borderColor = 'rgba(255,255,255,0.3)';
                    break;
                case 'glass':
                    borderColor = 'rgba(255,255,255,0.2)';
                    break;
                case 'neon':
                    borderColor = primaryColorInput.value;
                    break;
                case 'cyber':
                    borderColor = '#00ff88';
                    break;
                case 'gradient':
                    borderColor = 'rgba(255,255,255,0.3)';
                    break;
                case 'metallic':
                    borderColor = 'rgba(255,255,255,0.4)';
                    break;
            }
            
            ctx.strokeStyle = borderColor;
            ctx.lineWidth = 2;
            roundRect(ctx, cardX, cardY, cardWidth, cardHeight, borderRadius);
            ctx.stroke();
            
            // Card highlight
            ctx.strokeStyle = 'rgba(255,255,255,0.1)';
            ctx.lineWidth = 1;
            roundRect(ctx, cardX + 2, cardY + 2, cardWidth - 4, cardHeight - 4, borderRadius - 2);
            ctx.stroke();
        }

        // Helper function for rounded rectangles
        function roundRect(ctx, x, y, width, height, radius) {
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.lineTo(x + width - radius, y);
            ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
            ctx.lineTo(x + width, y + height - radius);
            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
            ctx.lineTo(x + radius, y + height);
            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
            ctx.lineTo(x, y + radius);
            ctx.quadraticCurveTo(x, y, x + radius, y);
            ctx.closePath();
        }

        // Draw watermark
        function drawWatermark(width, height) {
            ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'right';
            ctx.textBaseline = 'bottom';
            ctx.fillText('@ViralizeLab • Follow @Asym_Alwali', width - 20, height - 20);
        }

        // Download snapshot as HD PNG
        function downloadSnapshot() {
            const scale = exportQuality === 'uhd' ? 4 : 2;
            
            // Create high-resolution canvas
            const tempCanvas = document.createElement('canvas');
            const tempCtx = tempCanvas.getContext('2d');
            
            tempCanvas.width = canvas.width * scale;
            tempCanvas.height = canvas.height * scale;
            
            // Scale up the context for high resolution
            tempCtx.scale(scale, scale);
            
            // Redraw everything on high-res canvas
            draw3DBackground(canvas.width, canvas.height);
            draw3DContent(canvas.width, canvas.height);
            if (watermarkToggle.checked) {
                drawWatermark(canvas.width, canvas.height);
            }
            
            // Copy the content to temp canvas
            tempCtx.drawImage(canvas, 0, 0);
            
            // Download the high-res image
            const link = document.createElement('a');
            link.download = `3d-follower-milestone-${exportQuality}-${Date.now()}.png`;
            link.href = tempCanvas.toDataURL('image/png');
            link.click();
        }

        // Copy share text to clipboard
        function copyShareText() {
            const username = usernameInput.value || '@username';
            const followerCount = followerCountInput.value || '0';
            const platform = platformData[currentPlatform].name;
            
            const text = `Just reached ${followerCount} followers on ${platform}! ${username} - Created with @ViralizeLab 3D (Follow @Asym_Alwali for more tools)`;
            
            navigator.clipboard.writeText(text).then(() => {
                // Show success feedback
                shareBtn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                setTimeout(() => {
                    shareBtn.innerHTML = '<i class="fas fa-share-alt"></i> Copy Share Text';
                }, 2000);
            });
        }

        // Reset form
        function resetForm() {
            usernameInput.value = '@ViralizeLab';
            followerCountInput.value = '12500';
            milestoneTextInput.value = 'Thank you for 12.5K followers!';
            primaryColorInput.value = '#3a86ff';
            secondaryColorInput.value = '#8338ec';
            profileImage = null;
            profileThumb.innerHTML = '<span>+</span>';
            canvasSizeSelect.value = '1200x630';
            watermarkToggle.checked = true;
            depthIntensity.value = 50;
            
            // Reset platform to Twitter
            platformOptions.forEach(o => o.classList.remove('active'));
            platformOptions[0].classList.add('active');
            currentPlatform = 'twitter';
            
            // Reset template to Holographic
            templateElements.forEach(t => t.classList.remove('active'));
            templateElements[0].classList.add('active');
            currentTemplate = 'holographic';
            
            // Reset quality to HD
            qualityOptions.forEach(o => o.classList.remove('active'));
            qualityOptions[0].classList.add('active');
            exportQuality = 'hd';
            
            updateColorPreviews();
            updateCanvasSize();
            generateSnapshot();
        }

        // Initialize the application
        init();
    </script>
</body>
</html>
